# TODO List

## High Priority

## Medium Priority
- [ ]  More unit and integration tests
- [ ]  Simple demo https server
- [ ]  Consider releasing a copy of repl.rs as a demo script.
- [ ]  Raise clear_screen as an issue on supports-color crate?
- [ ]  Add FAQ
- [ ]  cat demo/fizz_buzz_gpt.rs | while read l; do thag_rs -qe "println!(\"{}\", \"$l\".to_uppercase());"; done
- [ ]  Config option for formatting main?
- [ ]  Config option for stdin -d highlighting preference, like repl.rs
- [ ]  Add conversions to and from `runner` and `cargo-script-mvs`.
- [ ]  Decommission repl.rs edit_history_old.
- [ ]  Thag develop branch changes for 0.1.5:
            - Common TUI editor with file save dialog, status message and working history, basic mouse selection support, TUI history edit.
            - Promote from REPL to TUI
            - Code quality improvements, e.g. From, ThagResult, Keys display build
            - Fix termbg Windows behaviour (PR pending)
            - Crokey-based key bindings
            - simplelog option
            - replace lazy_static crate with standard Rust built-ins
            -
- [ ]  >>> Implement deletion of current history line with function key.
- [ ]  Look for any functions that can run at compile-time.
- [ ]  Make key_handler a trait method? Or a closure?
- [ ]  Implement confirmation of save.
        >>> TODO: Save history on TUI save - in KeyHandler will need to be passed history file location
- [ ]  ?Adapt keys display to environment: Cmd only for target macos. Or just leave it because informative?
- [ ]  Consider forking crate tui_file_dialog.rs for `ratatui`.
- [ ]  Decommission repl::edit_history_old.
- [ ]  Decide whether to decommission REPL delete function - keep list
- [ ]  Decide whether to decommission REPL edit, toml and run functions.
- [ ]  Debug Firestorm double invocation.
- [ ]  Test [profile.dev] optimisation level
- [ ]  Check dead code & other #[cfg[allow(...)]; look into factoring over-long gen_build_run
- [ ]  Look for code smells
- [ ]  Look into fuzzing the tests such as test_merge_manifest.
- [ ]  Identify new functions requiring unit tests.
- [ ]  Document:
        /*[toml]
        [package]
        name = "dethagomizer"

        [[bin]]
        name = "dethag"
        path = "/Users/donf/projects/thag_rs/demo/dethagomizer.rs"
        */
- [ ]  Checklist for making releases:
       - Tip: disable ci.yml for Readme & similar tweaks that won't
              affect compilation.
       - Remember to update Cargo.toml version to the required release before tagging.
       - Leave it to cargo-dist to make the release.
       - To trigger cargo-dist:
         git tag v0.1.n -m "<Summary>"
         git push --tags
       - To revoke and redo:
         git tag -d v0.1.n
         git push origin --delete v0.1.n
         Tag again as above when ready.
       - Use changelog v0.1.<n-1>..HEAD to generate raw release notes.
       - Edit the release notes generated by cargo-dist on Github and add in
           own change log, edited as required from raw changelog output above.
       - Don't override release.yml, e.g. to try to add a workflow dispatch, as it's generated by cargo-dist.
       - Suggest give it a day to settle before publishing to crates.io.
       - find . -name .DS_Store -delete
       - cargo publish --no-verify

## Low Priority
- [ ]  Add additional popular crates
- [ ]  Paste event in Windows slow or not happening?
- [ ]  How to insert line feed from keyboard to split line in reedline. (Supposedly shift+enter)
- [ ]  "edit" crate - how to reconfigure editors dynamically - instructions unclear.
- [ ]  Clap aliases not working in REPL.
- [ ]  How to navigate reedline history entry by entry instead of line by line.
- [ ]  See if with...(nu_resolve_style) methods of repl.rs can maybe use a closure to prevent lazy-static from triggering prematurely. Maybe add terminal test?

## Ideas / Future Enhancements
- [ ]  Consider supporting alternative TOML embedding keywords so we can run demo/regex_capture_toml.rs and demo/parse_script.rs_toml.rs.
- [ ]  Option to cat files before delete.
