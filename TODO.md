# TODO List

## High Priority

## Medium Priority
- [ ]  More unit and integration tests
- [ ]  Simple demo https server
- [ ]  Consider releasing a copy of repl.rs as a demo script.
- [ ]  Raise clear_screen as an issue on supports-color crate?
- [ ]  Add FAQ
- [ ]  cat demo/fizz_buzz_gpt.rs | while read l; do thag_rs -qe "println!(\"{}\", \"$l\".to_uppercase());"; done
- [ ]  Config option for formatting main?
- [ ]  Config option for stdin -d highlighting preference, like repl.rs
- [ ]  Add conversions to and from `runner` and `cargo-script-mvs`.
- [ ]  Decommission repl.rs edit_history_old.
- [ ]  >>> Implement deletion of current history line with function key.
- [ ]  Look for any functions that can run at compile-time.
- [ ]  Make key_handler a trait method? Or a closure?
- [ ]  Fix confirmation of save on Windows.
- [ ]  ?Adapt keys display to environment: Cmd only for target macos. Or just leave it because informative?
- [ ]  Consider forking crate tui_file_dialog.rs for `ratatui`.
- [ ]  Trim dependencies, e.g. regex
- [ ]  Try going back to derive macro with declarative macro to expand the attributes. Problem with attrib macro is the AST isn't
        editable in the way we want, it just points to spans that get resolved later. See bank/syn_parse_mappings.rs for nice format;
- [ ]  See if prettyplease can be adapted to a string.
- [ ]  Decommission repl::edit_history_old.
- [ ]  Decide whether to decommission REPL delete function - keep list
- [ ]  Decide whether to decommission REPL edit, toml and run functions.
- [ ]  Debug Firestorm double invocation.
- [ ]  Test [profile.dev] optimisation level
- [ ]  Check dead code & other #[cfg[allow(...)]; look into factoring over-long gen_build_run
- [ ]  Look for code smells
- [ ]  Look into fuzzing the tests such as test_merge_manifest.
- [ ]  Identify new functions requiring unit tests.
- [ ]  Document:
        /*[toml]
        [package]
        name = "dethagomizer"

        [[bin]]
        name = "dethag"
        path = "/Users/donf/projects/thag_rs/demo/dethagomizer.rs"
        */
- [ ]  Checklist for making releases:
       - Tip: disable ci.yml for Readme & similar tweaks that won't
              affect compilation.
       - Remember to update Cargo.toml version to the required release before tagging.
       - Do a trial release build locally to check for anomalies.
       - Don't upgrade thag versions in demo scripts to new release as you get a
           catch-22 until it's on crates.io. If you absolutely need to, wait until you've
           released to crates.io a first time, then release all over again.
       - Run `typos` command.
       - Run vale README.md and vale demo/README.md.
       - Run cargo msrv find, and update the MSRV in README.md.
       - Use 'git changelog v0.1.<n-1>..HEAD' to generate raw release notes.
       - Edit the release notes generated by cargo-dist on Github and add in
           own change log, edited as required from raw changelog output above.
       - Leave it to cargo-dist to make the release.
       - To trigger cargo-dist:
         git tag v0.1.n -m "<Summary>"
         git push --tags
       - To revoke and redo:
         git tag -d v0.1.n
         git push origin --delete v0.1.n
         Tag again as above when ready.
       - Don't override release.yml, e.g. to try to add a workflow dispatch, as it's generated by cargo-dist.
       - Suggest give it a day to settle before publishing to crates.io.
       - Test with cargo package --no-verify
       - find . -name .DS_Store -delete
       - cargo publish --no-verify

## Low Priority
- [ ]  Add additional popular crates
- [ ]  Paste event in Windows slow or not happening?
- [ ]  How to insert line feed from keyboard to split line in reedline. (Supposedly shift+enter)
- [ ]  "edit" crate - how to reconfigure editors dynamically - instructions unclear.
- [ ]  Clap aliases not working in REPL.
- [ ]  How to navigate reedline history entry by entry instead of line by line.
- [ ]  See if with...(nu_resolve_style) methods of repl.rs can maybe use a closure to prevent lazy-static from triggering prematurely. Maybe add terminal test?

## Ideas / Future Enhancements
- [ ]  Consider supporting alternative TOML embedding keywords so we can run demo/regex_capture_toml.rs and demo/parse_script.rs_toml.rs.
- [ ]  Option to cat files before delete.
